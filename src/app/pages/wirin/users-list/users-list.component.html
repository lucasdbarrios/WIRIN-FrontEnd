<p-card class="">
    <div class="font-semibold text-xl mb-4">Usuarios</div>
    <p-toolbar>
        <ng-template #start>
            <p-select [(ngModel)]="dropdownValue" [options]="dropdownValues" optionLabel="name"
                placeholder="Filtrar por rol" [showClear]="true" (onChange)="loadUsers()" />
        </ng-template>
        <ng-template #center>
            <p-iconfield iconPosition="left">
                <input pInputText type="text" placeholder="Buscar usuario" (input)="searchUsers($event)" />
                <p-inputicon class="pi pi-search" />
            </p-iconfield>
        </ng-template>
        <ng-template #end>
            <p-button label="Crear usuario" icon="pi pi-plus" (onClick)="newUser()"></p-button>
        </ng-template>
    </p-toolbar>
    <p-accordion value="0">
        <p-accordion-panel *ngFor="let user of users" value={{user.id}}>
            <p-accordion-header>{{user.fullName}}</p-accordion-header>
            <p-accordion-content>
                <p class="m-0">
                    Nombre Completo: {{ user.fullName }}
                </p>
                <p class="m-0">
                    Nombre de Usuario: {{ user.userName }}
                </p>
                <p class="m-0">
                    Correo Electr√≥nico: {{ user.email }}
                </p>
                <p class="m-0">
                    Numero de telefono: {{ user.phoneNumber || 'Sin numero' }}
                </p>
                <p class="m-0">
                    Rol: {{ user.roles?.join(', ') || 'Sin rol' }}
                </p>

                <div class="flex justify-end gap-2 mt-4">
                    <p-button label="Modificar" icon="pi pi-pencil" styleClass="p-button-warning"
                        (onClick)="updateUser(user)">
                    </p-button>

                    <p-button label="Eliminar" icon="pi pi-trash" styleClass="p-button-danger"
                        (onClick)="deleteUser(user.id)">
                    </p-button>
                </div>
            </p-accordion-content>
        </p-accordion-panel>
    </p-accordion>
</p-card>